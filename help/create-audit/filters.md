---
description: '[含める]フィルタは、監査が開始URLからクロールできるリンクを制限します。 除外フィルタを使用すると、監査がクロールリンクから除外されます。'
seo-description: '[含める]フィルタは、監査が開始URLからクロールできるリンクを制限します。 除外フィルタを使用すると、監査がクロールリンクから除外されます。'
seo-title: 含めるフィルターと除外するフィルター
title: 含めるフィルターと除外するフィルター
uuid: 477fc38c-7351-42dd-8209-2fb7549ee34c
translation-type: tm+mt
source-git-commit: c697f3d759ad1f086f16a39e03062431583ffd7f

---


# 含めるフィルターと除外するフィルター{#include-and-exclude-filters}

[含める]フィルタは、監査が開始URLからクロールできるリンクを制限します。 除外フィルタを使用すると、監査がクロールリンクから除外されます。

<!--
Content from ObservePoint (https://help.observepoint.com/articles/2872121-include-and-exclude-filters) with their permission. Modified slightly for style and Auditor emphasis.
-->

「フィルターを含む」および「除外フィルター」は、監査のガイドラインを提供します。 「以下を含む」フィルターと「以下を除外する」フィルターを空のままにすると、「開始URL」上のリンクから始まる、すべてのリンクを監査でクロールできます。

![](assets/filter.png)

[含む]フィルタ、[除外する]フィルタ、またはその両方を適用すると、監査クロールが実行できるリンクに関する手順が表示されます。

「フィルターを含む」フィールドの項目は、その項目に一致するページのみにスキャンを制限します。 「フィルターを除外」フィールド内の項目は、その項目に一致するページがスキャンされるのを防ぎます。

「含む」フィルターと「除外」フィルターには、有効なページに一致する完全なURL、部分的なURLまたは正規表現を使用できます。

## 優先順位 {#section-e9d42419dd3f459bb20e7a33c6104f12}

1. **開始URLは** 、他のすべての項目よりも優先され、URLが除外フィルターの項目と一致する場合でも、監査中に常に訪問されます。 開始URLは、常に他のURLの前に訪問されます。

   ![](assets/startingpage.png)

   上の画像では、監査は開始ページのプロパティからリンクを検出し `document.links` ます。 これらのリンクは、監査によってスキャンされる資格があります。

1. **[URLを含める** ]は、開始ページからリンクする必要があります。リンクしないと、URLが見つからず、訪問されません。

   ![](assets/includefilter.png)

   上の画像で、「含める」フィルターを追加すると、フィルターに一致するURLが制限されます。 現在は、監査でスキャンできるリンクは5つだけです。

1. **URLの除外により** 、適格性からリンクが削除されます。

   ![](assets/excludefilter.png)

   上の画像で、除外フィルターを追加すると、有効なリンクからURLが除外されます。 現在は、監査でスキャンできるリンクは3つだけです。

## 開始URL {#section-ccb46abcd96f4a8ab171245015d2b724}

Auditorでは、開始URLに対して1ページを指定する必要があります。 開始URLは、常に他のURLの前に訪問されます。 開始ページから検出されたリンクは、「含む」フィルターと「除外する」フィルターを条件に訪問できます。 「以下を除外する」項目が「開始URL」と一致する場合、その項目は無視されます。

## フィルターを含める {#section-7626060a56a24b658f8c05f031ac3f5f}

「含める」フィルターは、監査中にスキャンする資格のあるリンクを制限します。 次のフィルターを含めることができます。

* 完全修飾URL
* 部分URL
* 完全または部分的なURLに一致する正規表現
* 上記の

URLまたは正規表現を含むフィルターに追加しても、監査でこれらの特定のURLがスキャンされるとは限りません。 監査は開始URL上のリンクを調べ、有効なリンクを順に閲覧します。 監査は、スキャンされたURLの上限（500個）に達するか、有効なリンクが見つからなくなるまで、この検査と移動のプロセスを続けます。

>[!NOTE]
>
>500ページのスキャンを完了するまでに最大48時間かかる場合があります。

デフォルトでは、監査は開始URLのすべてのサブドメインをスキャンします。 インクルードフィルターを指定して明示的に上書きしない限り、スキャンでは次のregex includeフィルターが使用されます。

`^https?://([^/:\?]*\.)?mysite.com`

これにより、開始URLページにあるリンクを訪問できるようになります。 開始URLから任意のサブドメインのページに一致します。

デフォルトの「含む」フィルターを使用すると、クロールする監査に幅広い範囲が提供されます。 特定のセクションまたはページに移動するには、このボックスにフィルターを追加して、監査に対する具体的な指示を指定します。 その場合は、デフォルト値を監査でスキャンするディレクトリに置き換えます。 また、インクルードフィルターを使用して、あるドメインで監査を開始し、別のドメインで監査を終了する必要があるクロスドメイン監査を実行することもできます。 これを行うには、トラバースするドメインを入力します。 いずれの場合も、含むフィルターURLが見つかるには、監査対象のページでURLを検出する必要があります。

含めるフィルターには、正確なURL、部分的なURLまたは正規表現を含めることができます。 例えば、開始URLが指定されている場合、次 [!DNL http://mysite.com]のページはデフォルトでスキャンされる資格があります（太字の文字をメモしておきます）。

```
http://mysite.com
http
<b>s</b>://mysite.com
http://
<b>www</b>.mysite.com/home
http://
<b>dev</b>.mysite.com/home
http://
<b>my</b>.mysite.com/products/products_and_services.html
```

複雑なURLパターンの場合は、ObservePointの [正規表現テストを使用します](http://regex.observepoint.com/)。

一般的なパターンマッチ [ングの使用例については、『Common Regular Expressions for ObservePoint](https://help.observepoint.com/articles/2872116-common-regular-expressions-for-observepoint) 』ドキュメントも参照してください。

## 除外フィルタ {#section-00aa5e10c878473b91ba0844bebe7ca9}

除外フィルターを使用すると、URLを監査できなくなります。 正確なURL、部分的なURLまたは正規表現を使用できます。 除外フィルター内の項目に一致するURLは訪問されません。 開始URLが除外フィルターに含まれている場合、除外されません。 開始URLは、常に監査によってスキャンされます。

## フィルターとURLのテスト {#section-3cfa125b1756411395a64701e128efa0}

Auditor内でフィルターとURLをテストできます。

監査の作成時に、「アドバンスフィルターのテ **[!UICONTROL スト」をクリックしま]**&#x200B;す。 フィルターとURLを入力し、「適用」をクリッ **[!UICONTROL クします]**。

![](assets/test-advanced-filters.png)

## ObservePointのドキュメント {#section-79cdc8e850d047969b6d2badf6bbd6f9}

この記事はObservePointと連携して開発されました。 最新の情報については、ObservePointのドキュメントを参照 [してください](https://help.observepoint.com/articles/2872121-include-and-exclude-filters)。
